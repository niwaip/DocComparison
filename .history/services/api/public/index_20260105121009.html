<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>合同对比与风险分析</title>
    <style>
      body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; margin: 0; }
      header { padding: 12px 16px; border-bottom: 1px solid #eee; display: flex; gap: 12px; align-items: center; }
      main { display: grid; grid-template-columns: 1fr 360px; gap: 0; min-height: calc(100vh - 54px); }
      .left { border-right: 1px solid #eee; }
      .panel { padding: 12px 16px; }
      .form { display: grid; grid-template-columns: 1fr 1fr auto auto; gap: 8px; align-items: center; }
      .form input[type="file"] { width: 100%; }
      .btn { padding: 6px 10px; border: 1px solid #ddd; background: #fff; cursor: pointer; border-radius: 6px; }
      .btn:disabled { opacity: 0.6; cursor: not-allowed; }
      .status { font-size: 12px; color: #666; }

      .doc-diff { padding: 12px 16px 48px; }
      .diff-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0; border: 1px solid #eee; border-radius: 8px; overflow: hidden; }
      .diff-row { display: contents; }
      .diff-cell { padding: 10px 12px; border-bottom: 1px solid #f0f0f0; }
      .diff-cell.left { border-right: 1px solid #f0f0f0; }
      .diff-cell.empty { background: #fafafa; }
      .diff-row.kind-inserted .diff-cell.right { background: #f0fff4; }
      .diff-row.kind-deleted .diff-cell.left { background: #fff5f5; }
      ins { background: #c6f6d5; text-decoration: none; }
      del { background: #fed7d7; text-decoration: line-through; }

      .risk-item { border: 1px solid #eee; border-radius: 8px; padding: 10px 12px; margin-bottom: 10px; cursor: pointer; }
      .risk-item .lvl { font-weight: 600; }
      .risk-item .meta { color: #666; font-size: 12px; margin-top: 6px; }
      .risk-item[data-level="high"] { border-color: #fca5a5; }
      .risk-item[data-level="medium"] { border-color: #fdba74; }
      .risk-item[data-level="low"] { border-color: #a7f3d0; }
    </style>
  </head>
  <body>
    <header>
      <div style="font-weight:600;">合同对比与风险分析</div>
      <div class="status" id="status"></div>
    </header>
    <main>
      <section class="left">
        <div class="panel">
          <form id="form" class="form">
            <input type="file" name="leftFile" accept=".docx" required />
            <input type="file" name="rightFile" accept=".docx" required />
            <label style="display:flex; gap:6px; align-items:center;">
              <input type="checkbox" id="aiMode" checked />
              AI
            </label>
            <button class="btn" id="submitBtn" type="submit">开始对比</button>
          </form>
        </div>
        <div id="result" class="doc-diff"></div>
      </section>
      <aside class="panel">
        <div style="font-weight:600; margin-bottom: 10px;">风险建议</div>
        <div id="risks"></div>
      </aside>
    </main>
    <script src="/app.js"></script>
  </body>
</html>
